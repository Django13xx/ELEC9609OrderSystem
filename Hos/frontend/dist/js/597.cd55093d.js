"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[597],{3597:function(e,t,i){i.r(t),i.d(t,{default:function(){return F}});var s=i(3396),a=i(9242),d=i(7139);const l=e=>((0,s.dD)("data-v-014f66ec"),e=e(),(0,s.Cn)(),e),n={class:"link-container"},h={class:"col-md-4 edit-menu-form"},r={class:"form-group"},o={class:"form-group"},c=l((()=>(0,s._)("label",{for:"dish_name"},"Name:",-1))),_={class:"form-group"},u=l((()=>(0,s._)("label",{for:"dish_name"},"Type:",-1))),p=(0,s.uE)('<option value="" disabled selected data-v-014f66ec>-Choose-</option><option value="MainCourse" data-v-014f66ec>Main Course</option><option value="Seafood" data-v-014f66ec>Seafood</option><option value="Vegetarian" data-v-014f66ec>Vegetarian</option><option value="Noodles" data-v-014f66ec>Noodles</option><option value="Meat" data-v-014f66ec>Meat</option>',6),m=[p],f={class:"form-group"},v=l((()=>(0,s._)("label",{for:"dish_name"},"Price:",-1))),y={class:"form-group"},b=l((()=>(0,s._)("label",{for:"dish_name"},"Sold:",-1))),g={class:"form-group"},k={class:"col-md-8 offset-md-4 table-container"},w={class:"table table-bordered table-hover table-header"},x=l((()=>(0,s._)("thead",null,[(0,s._)("th",{class:"text-center sticky-header"},"Name"),(0,s._)("th",{class:"text-center sticky-header"},"Type"),(0,s._)("th",{class:"text-center sticky-header"},"Pic"),(0,s._)("th",{class:"text-center sticky-header"},"Price"),(0,s._)("th",{class:"text-center sticky-header"},"Sold"),(0,s._)("th",{class:"text-center sticky-header"},"Edit"),(0,s._)("th",{class:"text-center sticky-header"},"Delete")],-1))),M={class:"text-center dish_name"},D={class:"text-center"},C={class:"text_center"},V=["src"],A={class:"text-center"},P={class:"text-center"},q={class:"text-center"},N=["onClick"],U=l((()=>(0,s._)("i",{class:"fa fa-edit"},null,-1))),S=[U],Z={class:"text-center"},z=["onClick"],I=l((()=>(0,s._)("i",{class:"fa fa-trash"},null,-1))),T=[I],$=l((()=>(0,s._)("div",null,[(0,s._)("br"),(0,s._)("br"),(0,s._)("br")],-1)));function E(e,t,i,l,p,U){const I=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",n,[(0,s.Wm)(I,{to:"adminMainMenu",class:"link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Back to Admin Main Page")])),_:1}),(0,s.Wm)(I,{to:"adminTable",class:"link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Change to Table Admin")])),_:1})]),(0,s._)("div",h,[(0,s._)("div",null,[(0,s._)("div",r,[(0,s.wy)((0,s._)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=e=>p.dish_id=e)},null,512),[[a.nr,p.dish_id]])]),(0,s._)("div",o,[c,(0,s.wy)((0,s._)("textarea",{class:"form-control narrow-input","onUpdate:modelValue":t[1]||(t[1]=e=>p.dish_name=e),onInput:t[2]||(t[2]=(...e)=>U.validateDishname&&U.validateDishname(...e)),placeholder:"dish_Name"},null,544),[[a.nr,p.dish_name]])]),(0,s._)("div",_,[u,(0,s.wy)((0,s._)("select",{class:"form-control narrow-input","onUpdate:modelValue":t[3]||(t[3]=e=>p.dish_type=e)},m,512),[[a.bM,p.dish_type]])]),(0,s._)("div",f,[v,(0,s.wy)((0,s._)("textarea",{class:"form-control narrow-input","onUpdate:modelValue":t[4]||(t[4]=e=>p.dish_price=e),onInput:t[5]||(t[5]=(...e)=>U.validateDishprice&&U.validateDishprice(...e)),placeholder:"dish_Price"},null,544),[[a.nr,p.dish_price]])]),(0,s._)("div",y,[b,(0,s.wy)((0,s._)("textarea",{class:"form-control narrow-input","onUpdate:modelValue":t[6]||(t[6]=e=>p.dish_qty=e),placeholder:"dish_Qty"},null,512),[[a.nr,p.dish_qty]])]),(0,s._)("div",g,[(0,s._)("button",{class:"btn btn-block narrow-input",onClick:t[7]||(t[7]=t=>U.saveMenu(e.menu))},"Save")])])]),(0,s._)("div",k,[(0,s._)("table",w,[x,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(p.menus,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.dish_id},[(0,s._)("td",M,(0,d.zw)(e.dish_name),1),(0,s._)("td",D,(0,d.zw)(e.dish_type),1),(0,s._)("td",C,[(0,s._)("img",{src:`/api/static/images/${e.dish_name}.jpg`,alt:"Dish Image"},null,8,V)]),(0,s._)("td",A,(0,d.zw)(e.dish_price),1),(0,s._)("td",P,(0,d.zw)(e.dish_qty),1),(0,s._)("td",q,[(0,s._)("button",{class:"btn",onClick:t=>U.editMenu(e)},S,8,N)]),(0,s._)("td",Z,[(0,s._)("button",{class:"btn",onClick:t=>U.delateMenu(e)},T,8,z)])])))),128))])])]),$])}i(7658);var W=i(4161),Y={name:"ContainerMenu",props:{},data(){return{base_url:"/api/menu/",menus:null,url:"",dish_id:"",dish_name:"",dish_type:"",dish_pic:"",dish_price:"",dish_qty:"",admin:this.$route.params.admin}},methods:{getAll(){W.Z.get(this.base_url).then((e=>{this.menus=e.data,this.url="",this.dish_id="",this.dish_name="",this.dish_type="",this.dish_pic="",this.dish_price="",this.dish_qty=""}))},validateDishprice(e){let t=e.target.value,i=/^\d+(\.\d+)?$/.test(t);i?this.PriceValid=!0:(console.log("Price must be a number."),this.PriceValid=!1)},validateDishname(e){let t=e.target.value,i=/^[a-zA-Z]+$/.test(t);i?this.NameValid=!0:(console.log("Name must be Alphabetic."),this.NameValid=!1)},saveMenu(){if(this.dish_name&&this.dish_type&&this.dish_price)if(""==this.url){if(0!=this.dish_qty)return void alert("Please set the sold number to 0");if(!1===this.PriceValid)return void alert("Price must be a number.");if(!1===this.NameValid)return void alert("Name must be Alphabetic.");W.Z.post(this.base_url,{dish_id:this.dish_id,dish_name:this.dish_name,dish_type:this.dish_type,dish_price:this.dish_price}).then((()=>{this.getAll()})),alert('Add dish:"'+this.dish_name+'" successfully!')}else W.Z.put(this.url,{dish_id:this.dish_id,dish_name:this.dish_name,dish_type:this.dish_type,dish_price:this.dish_price,dish_qty:this.dish_qty}).then((()=>{this.getAll()})),alert('Update dish:"'+this.dish_name+'" successfully!');else alert("Please fill all the FIELDS except dish picture\nYou can leave the picture field empty for now")},editMenu(e){this.url=e.url,this.dish_id=e.dish_id,this.dish_name=e.dish_name,this.dish_type=e.dish_type,this.dish_pic=e.dish_pic,this.dish_price=e.dish_price,this.dish_qty=e.dish_qty},delateMenu(e){const t=e.dish_name;W.Z.delete(e.url).then((()=>{this.getAll()})),alert('Delete dish:"'+t+'" successfully！！!')},tableAdminMode(){this.$router.push("/adminTable")}},mounted(){this.getAll()}},j=i(89);const B=(0,j.Z)(Y,[["render",E],["__scopeId","data-v-014f66ec"]]);var F=B}}]);
//# sourceMappingURL=597.cd55093d.js.map