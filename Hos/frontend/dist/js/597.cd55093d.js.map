{"version":3,"file":"js/597.cd55093d.js","mappings":"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","sources":["webpack://frontend/./src/components/ContainerMenu.vue","webpack://frontend/./src/components/ContainerMenu.vue?1342"],"sourcesContent":["<template>\n  <div>\n    <div class=\"link-container\">\n    <router-link to=\"adminMainMenu\" class=\"link\">Back to Admin Main Page</router-link>\n    <router-link to=\"adminTable\" class=\"link\">Change to Table Admin</router-link>\n    </div>\n    <!-- seperate the screen into two parts -->\n    <!-- left part for editing-->\n    <div class=\"col-md-4 edit-menu-form\">\n      <div>\n        <div class=\"form-group\">\n          <input type=\"hidden\" v-model=\"dish_id\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"dish_name\">Name:</label>\n          <textarea class=\"form-control narrow-input\" v-model=\"dish_name\" @input=\"validateDishname\" placeholder=\"dish_Name\"></textarea>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"dish_name\">Type:</label>\n          <select class=\"form-control narrow-input\" v-model=\"dish_type\">\n            <option value=\"\" disabled selected>-Choose-</option>\n            <option value=\"MainCourse\">Main Course</option>\n            <option value=\"Seafood\">Seafood</option>\n            <option value=\"Vegetarian\">Vegetarian</option>\n            <option value=\"Noodles\">Noodles</option>\n            <option value=\"Meat\">Meat</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"dish_name\">Price:</label>\n          <textarea class=\"form-control narrow-input\" v-model=\"dish_price\" @input=\"validateDishprice\" placeholder=\"dish_Price\"></textarea>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"dish_name\">Sold:</label>\n          <textarea class=\"form-control narrow-input\" v-model=\"dish_qty\" placeholder=\"dish_Qty\"></textarea>\n        </div>\n        <div class=\"form-group\">\n          <button class=\"btn btn-block narrow-input\" @click=\"saveMenu(menu)\">Save</button>\n        </div>\n      </div>\n    </div>\n    <!-- right part for menu -->\n    <div class=\"col-md-8 offset-md-4 table-container\" >\n      <table class=\"table table-bordered table-hover table-header\">\n        <thead>\n          <th class=\"text-center sticky-header\">Name</th>\n          <th class=\"text-center sticky-header\">Type</th>\n          <th class=\"text-center sticky-header\">Pic</th>\n          <th class=\"text-center sticky-header\">Price</th>\n          <th class=\"text-center sticky-header\">Sold</th>\n          <th class=\"text-center sticky-header\">Edit</th>\n          <th class=\"text-center sticky-header\">Delete</th>\n        </thead>\n        <tbody>\n          <tr v-for='menu in menus' :key='menu.dish_id'>\n            <td class=\"text-center dish_name\">{{menu.dish_name}}</td>\n            <td class=\"text-center\">{{menu.dish_type}}</td>\n            <td class=\"text_center\">\n              <img :src=\"`/api/static/images/${menu.dish_name}.jpg`\" alt=\"Dish Image\"> <!--import the image from backend-->\n            </td>\n            <td class=\"text-center\">{{menu.dish_price}}</td>\n            <td class=\"text-center\">{{menu.dish_qty}}</td>\n            <td class=\"text-center\">\n              <button class=\"btn\" @click=\"editMenu(menu)\">\n                <i class=\"fa fa-edit\"></i>\n              </button>\n            </td>\n            <td class=\"text-center\">\n              <button class=\"btn\" @click=\"delateMenu(menu)\">\n                <i class=\"fa fa-trash\"></i>\n              </button>\n            </td>\n          </tr>\n        </tbody>\n        </table>\n      </div>\n    <div>\n      <br>\n      <br>\n      <br>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  name: 'ContainerMenu',\n  props: {\n  },\n  data(){\n    return {\n      base_url:'/api/menu/',\n      menus:null,\n      url:'',\n      dish_id:'',\n      dish_name:'',\n      dish_type:'',\n      dish_pic:'',\n      dish_price:'',\n      dish_qty:'',\n      admin: this.$route.params.admin,\n    }\n  },\n  methods: {\n    getAll(){\n      axios.get(this.base_url)\n      .then(response => {\n        this.menus = response.data\n        this.url = '',\n        this.dish_id = '';\n        this.dish_name = '';\n        this.dish_type = '';\n        this.dish_pic = '';\n        this.dish_price = '';\n        this.dish_qty = ''\n      })\n    },\n    validateDishprice(event){\n      let input = event.target.value;\n      let isNumeric = /^\\d+(\\.\\d+)?$/.test(input); // 使用正则表达式检查是否为数字\n\n      if (!isNumeric) {\n        // 如果输入不是数字，显示错误信息或进行其他操作\n        console.log('Price must be a number.');\n        // 可以设置一个错误状态以在页面上显示错误信息\n        this.PriceValid = false;\n      } else {\n        // 如果是数字，进行其他操作或重置错误状态\n        this.PriceValid = true;\n      }\n    }, \n    validateDishname(event){\n      let input = event.target.value;\n      let isAlphabetic = /^[a-zA-Z]+$/.test(input); // 使用正则表达式检查是否为数字\n\n      if (!isAlphabetic) {\n        // 如果输入不是数字，显示错误信息或进行其他操作\n        console.log('Name must be Alphabetic.');\n        // 可以设置一个错误状态以在页面上显示错误信息\n        this.NameValid = false;\n      } else {\n        // 如果是数字，进行其他操作或重置错误状态\n        this.NameValid = true;\n      }\n    },       \n    saveMenu(){\n        // Check if any of the input fields are empty\n    if (\n      !this.dish_name ||\n      !this.dish_type ||\n      !this.dish_price\n    ) {\n      // Show an error message or alert indicating that all fields must be filled\n      alert('Please fill all the FIELDS except dish picture\\nYou can leave the picture field empty for now');\n      return; // Stop the function execution\n    }\n      // two situations: one for add and one for update\n      if(this.url == ''){\n        // add new menu\n        if (this.dish_qty != 0){\n          alert('Please set the sold number to 0');\n          return;\n        }\n        if (this.PriceValid === false){\n          alert('Price must be a number.');\n          return;\n        }\n        if (this.NameValid === false){\n          alert('Name must be Alphabetic.');\n          return;\n        }\n        axios.post(this.base_url,{\n          dish_id:this.dish_id,\n          dish_name:this.dish_name,\n          dish_type:this.dish_type,\n          dish_price:this.dish_price\n        })\n          .then(()=>{\n            this.getAll();\n          })\n        alert('Add dish:\"'+ this.dish_name +'\" successfully!');\n      }else{\n        // update existed menu\n        axios.put(this.url,{\n          dish_id:this.dish_id,\n          dish_name:this.dish_name,\n          dish_type:this.dish_type,\n          dish_price:this.dish_price,\n          dish_qty:this.dish_qty\n        })\n          .then(()=>{\n            this.getAll();\n          })\n        alert('Update dish:\"'+ this.dish_name +'\" successfully!');\n      }\n    },\n    editMenu(menu){\n      // edit menu when click the save button\n      this.url = menu.url;\n      this.dish_id = menu.dish_id;\n      this.dish_name = menu.dish_name;\n      this.dish_type = menu.dish_type;\n      this.dish_pic = menu.dish_pic;\n      this.dish_price = menu.dish_price;\n      this.dish_qty = menu.dish_qty\n    },\n    delateMenu(menu){\n      // delete menu when click the delete button\n      const deleted=menu.dish_name;\n      axios.delete(menu.url)\n        .then(()=>{\n          this.getAll();\n        })\n      alert('Delete dish:\"'+ deleted +'\" successfully！！!');\n    },\n    tableAdminMode(){\n      this.$router.push('/adminTable')\n    }\n  },\n  mounted() {\n    this.getAll();\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n/* used to narrow the textarea width and the button */\n.edit-menu-form {\n  width: 150px;\n  margin-left: 100px;\n  margin-top: 20px;\n}\n.narrow-input {\n  width: 150px; \n}\n.table-container {\n  width: 100%;\n  margin-top: -450px;\n  height: 620px; /* height */\n  overflow-y: scroll; /* scroll */\n  border: 1px solid #ccc; /* style */\n  margin-right: 150px;  /* Reduce the left margin */\n\n}\n\n.sticky-header {\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0; /* stick the tablehead in the top */\n  background-color:#E81E25; /* set colour for table head */\n  color: white;\n}\n\n.dish_name{\n  background-color: wheat;\n}\n\nimg {\n    width: 20px; /* let the height adapt automatically */\n    height: auto;\n}\n\n.btn {\n  background-color: wheat;\n  border: none;\n  color: black;\n  padding: 5px 5px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 12px;\n  margin: 2px 2px;\n  cursor: pointer;\n}\n\n/* for the link to go back */\n.link-container {\n  display: flex;  /* 使用 Flex 布局 */\n  justify-content: flex-start;  /* 水平向左靠齐 */\n  gap: 10px;  /* 间距设置为 10px，根据需要进行调整 */\n}\n.link{\n  font-size: 10px;\n  background-color: wheat;\n  margin: 0 0px;\n  border-radius: 5px; /* set rounder */\n  padding: 5px 10px; /* set inside padding */\n}\n\n</style>\n","import { render } from \"./ContainerMenu.vue?vue&type=template&id=014f66ec&scoped=true\"\nimport script from \"./ContainerMenu.vue?vue&type=script&lang=js\"\nexport * from \"./ContainerMenu.vue?vue&type=script&lang=js\"\n\nimport \"./ContainerMenu.vue?vue&type=style&index=0&id=014f66ec&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-014f66ec\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_hoisted_8","_hoisted_31","_hoisted_35","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","_hoisted_2","_hoisted_3","type","$data","dish_id","$event","_hoisted_4","_hoisted_5","dish_name","onInput","_cache","args","$options","validateDishname","placeholder","_hoisted_6","_hoisted_7","dish_type","_hoisted_15","_hoisted_16","dish_price","validateDishprice","_hoisted_17","_hoisted_18","dish_qty","_hoisted_19","onClick","saveMenu","_ctx","menu","_hoisted_20","_hoisted_21","_hoisted_22","_Fragment","_renderList","menus","key","_hoisted_23","_toDisplayString","_hoisted_24","_hoisted_25","src","alt","_hoisted_27","_hoisted_28","_hoisted_29","editMenu","_hoisted_33","delateMenu","_hoisted_37","name","props","data","base_url","url","dish_pic","admin","this","$route","params","methods","getAll","axios","get","then","response","event","input","target","value","isNumeric","test","PriceValid","console","log","isAlphabetic","NameValid","alert","post","put","deleted","delete","tableAdminMode","$router","push","mounted","__exports__","render"],"sourceRoot":""}