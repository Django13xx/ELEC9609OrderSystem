{"version":3,"file":"js/63.1801ecc5.js","mappings":"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","sources":["webpack://frontend/./src/pages/UserLoginPage.vue","webpack://frontend/./src/pages/UserLoginPage.vue?64ca"],"sourcesContent":["<template>\n  <div>\n    <div>\n      <form id=\"user-login\">\n        <!-- phone number inputer -->\n        <div class=\"form-group\">\n          <label for=\"InputPhoneNumber\" class=\"center-label\">Phone Number</label>\n          <input type=\"tel\" \n            class=\"form-control small-input center-input\" \n            id=\"exampleInputPhoneNumber\" \n            aria-describedby=\"phoneHelp\" \n            v-model=\"phoneNumber\" \n            @input=\"validatePhoneNumber\">\n          <small id=\"emailHelp\" class=\"form-text text-muted center-label\">We will never share your phone number with anyone else</small>\n        </div>\n        <!-- table number inputer -->\n        <div class=\"form-group small-input center-input\">\n          <label for=\"exampleFormControlSelect1\">Table number</label>\n          <select class=\"form-control\" id=\"exampleFormControlSelect1\" v-model=\"table_id\" @change=\"reserveTable\">\n            <option disabled value=\"\">--Select a Table--</option>\n            <option\n            v-for=\"table of tables\"\n            :key=\"table.table_id\"\n            :value=\"table.table_name\"\n            :disabled=\"table.table_status === false\"\n            >{{ table.table_name }}\n            </option>\n          </select>\n        </div>\n        <!-- choose number of guest by check box -->\n        <div class=\"form-group small-input center-input\">\n          <label for=\"exampleFormControlSelect1\">Number of Guest</label>\n          <select class=\"form-control\" id=\"exampleFormControlSelect1\" v-model=\"peopleNumber\">\n            <option>1</option>\n            <option>2</option>\n            <option>3</option>\n            <option>4</option>\n            <option>5</option>\n            <option>6</option>\n            <option>7</option>\n            <option>8</option>\n          </select>\n        </div>\n      </form>\n    </div>\n    <div class=\"link-container\">\n      <button @click=\"saveAndNavigate\" class=\"link\">Start Order</button>\n      <router-link to=\"hosWelcome\" class=\"link\">Back</router-link>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\nexport default {\n  data(){\n    return {\n      phoneNumber: '',\n      table_id: null,\n      order_code: '',\n      peopleNumber:'1',\n      tables:[],\n      reserveTable:null,\n      phoneNumberValid: false,\n    }\n  },\n  created() {\n    // 获取桌子列表和状态信息，假设API返回一个包含桌子信息的数组\n    axios.get(\"/api/table\")\n      .then(response => {\n        this.tables = response.data;\n        // for(const table of this.tables)\n        // alert(`Table ${table.table_name} status: ${table.table_status}`);\n      })\n      .catch(error => {\n        console.error(\"获取桌子信息时出错\", error);\n      });\n  },\n  methods: {\n    validatePhoneNumber(event) {\n      let phoneNumber = event.target.value.replace(/\\D/g, '');\n      this.phoneNumber = phoneNumber;\n      // 此方法用于验证电话号码字段\n      if (this.phoneNumber === '') {\n        // 如果电话号码为空，可以显示错误信息或进行其他操作\n        console.log('Phone number is required.');\n      } else {\n        // 如果电话号码有效，可以进行其他操作或重置错误状态\n        this.phoneNumberValid = true;\n      }\n    },  \n    saveAndNavigate() {\n      if (this.table_id === null) {\n        // 如果用户没有选择桌子，可以显示错误信息或进行其他操作\n        alert('Please select a table before proceeding.');\n      } \n      else if(this.phoneNumberValid === false){\n        alert('Please input Phone Number before proceeding.');\n      } \n      else {\n        const endpoint = `/api/function/reserve_table/?table_name=${this.table_id}`;\n        axios.get(endpoint)\n          .then((response) => {\n            this.table_status = response.data;\n          })\n          .catch((error) => {\n            console.error('Error fetching dishes:', error);\n          });\n        const timestamp = new Date().getTime();\n        this.order_code = this.table_id+'_'+timestamp.toString();\n        axios.post('/api/order/', {\n          order_code: this.order_code,\n          order_table: this.table_id, \n          order_numberOfPeople: this.peopleNumber,\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n        this.$router.push({name: 'userMenu', params: { number: this.peopleNumber, table: this.table_id, order: this.order_code }})\n        // 这里可以检查 this.phoneNumberValid 状态，如果有效才执行保存和导航操作\n        if (this.phoneNumber.trim() !== '' && /^\\d+$/.test(this.phoneNumber)) {\n          // 执行保存操作\n          axios.post('/api/user/', {\n            customer_phone: this.phoneNumber,\n          }).catch((error) => {\n            console.log(error);\n          });\n          //alert('Customer \"' + this.phoneNumber + '\"\\ncreate order: \"' + this.order_code + '\"\\nat Table_' + this.table_id + ' successfully!');\n        } else {\n          // 如果电话号码无效，可以显示错误信息或进行其他操作\n          console.log('Phone number is invalid.');\n          // 你可以在这里设置错误提示信息或样式\n        }\n      }\n    }\n  }\n}\n</script>\n\n\n<style>\n.center-label {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.small-input {\n  width: 150px;\n}\n\n.center-input {\n  margin: 0 auto;\n  display: block;\n}\n.centered-checkbox-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>","import { render } from \"./UserLoginPage.vue?vue&type=template&id=0c36ba6d\"\nimport script from \"./UserLoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./UserLoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./UserLoginPage.vue?vue&type=style&index=0&id=0c36ba6d&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","_createElementVNode","for","disabled","value","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","type","$data","phoneNumber","$event","onInput","_cache","args","$options","validatePhoneNumber","_hoisted_4","_hoisted_5","_hoisted_6","table_id","onChange","reserveTable","_hoisted_7","_Fragment","_renderList","tables","table","key","table_name","table_status","_hoisted_8","_hoisted_9","_hoisted_10","peopleNumber","_hoisted_20","onClick","saveAndNavigate","_createVNode","_component_router_link","to","data","order_code","phoneNumberValid","created","axios","get","then","response","this","catch","error","console","methods","event","target","replace","log","alert","endpoint","timestamp","Date","getTime","toString","post","order_table","order_numberOfPeople","$router","push","name","params","number","order","trim","test","customer_phone","__exports__","render"],"sourceRoot":""}